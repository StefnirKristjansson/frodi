{% extends "base.html" %} {% block content %}

<main class="container mx-auto px-4 py-8 flex-grow">
  <h1 class="text-3xl font-bold mb-4">Skapa minnisblöð</h1>
  <p class="mb-4">
    Hér getur þú hlaðið upp Word skjali með upplýsingum fyrir minnisblað og
    fengið útfillt minnisblað til baka.
  </p>
  <p class="mb-4">
    Ekki hlaða neinu upp sem er mjög viðkvæmt og mætti ekki hlaða upp á netið.
  </p>
  <form id="upload-form" class="bg-white p-6 rounded-lg shadow-md">
    <!-- Token input field -->
    <div class="mb-4">
      <label for="token" class="block text-sm font-medium text-gray-700 mb-2">
        Likilorð:
      </label>
      <input
        type="text"
        id="token"
        name="token"
        class="w-full border border-gray-300 p-2 rounded-md"
        required
      />
    </div>

    <!-- File input -->
    <label for="file" class="block text-sm font-medium text-gray-700 mb-2">
      Choose a .docx file to upload:
    </label>
    <input
      type="file"
      name="file"
      id="file"
      accept=".docx"
      class="mb-4"
      required
    />

    <!-- Checkboxes for chapters -->
    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700 mb-2">
        Select chapters to include:
      </label>
      <div>
        <input
          type="checkbox"
          id="inngangur"
          name="chapters"
          value="inngangur"
        />
        <label for="inngangur">Inngangur</label>
      </div>
      <div>
        <input
          type="checkbox"
          id="samantekt"
          name="chapters"
          value="samantekt"
        />
        <label for="samantekt">Samantekt</label>
      </div>
      <div>
        <input type="checkbox" id="aaetlun" name="chapters" value="aaetlun" />
        <label for="aaetlun">Áætlun</label>
      </div>
      <div>
        <input type="checkbox" id="markmid" name="chapters" value="markmid" />
        <label for="markmid">Markmið</label>
      </div>
    </div>

    <button
      type="submit"
      class="bg-blue-500 text-white px-4 py-2 rounded-md inline-flex items-center"
    >
      <i class="fas fa-upload mr-2"></i> Upload
    </button>
  </form>

  <!-- Loading icon and message -->
  <div
    id="loading"
    class="mt-4 p-4 bg-blue-100 text-blue-800 rounded-lg hidden"
  >
    <i class="fas fa-spinner fa-spin mr-2"></i> Í vinnslu... getur tekið dáldinn
    tíma ekki endurhlaða síðuna á meðan verið að vinna.
  </div>

  <!-- Error message container -->
  <div
    id="error-message"
    class="mt-4 p-4 bg-red-100 text-red-800 rounded-lg hidden"
  >
    <h2 class="text-xl font-bold mb-2">Error:</h2>
    <p id="error-text"></p>
  </div>
</main>

<!-- Include your JavaScript file here -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="/static/minnisblad.js"></script>

{% endblock %}
