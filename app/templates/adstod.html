{% extends "base.html" %} {% block content %}
<main class="container mx-auto px-4 py-8 flex-grow flex flex-col">
  <!-- Chat messages -->
  <div id="chat-container" class="flex-grow overflow-y-auto mb-4">
    <!-- Existing hardcoded messages can be removed if not needed -->
  </div>

  <!-- Typing indicator -->
  <div id="typing-indicator" class="mb-4 text-gray-500 hidden">
    Assistant is typing...
  </div>

  <!-- Input area -->
  <form id="chat-form" class="flex">
    <input
      type="text"
      id="message-input"
      name="message"
      class="flex-grow border border-gray-300 p-2 rounded-l-md"
      placeholder="Type your message..."
      required
    />
    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-r-md">
      Send
    </button>
  </form>
</main>

<script>
  // Clear thread ID on page load
  window.addEventListener("load", () => {
    localStorage.removeItem("thread_id");
    document.cookie = "thread_id=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="/static/assistant.js"></script>
{% endblock %}
